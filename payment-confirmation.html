<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación de Pago - KIKIBROWS</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- CSS Personalizado -->
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/paymentConfirmation.css">
</head>
<body>

    <!-- Navbar Global -->
    <div id="navbar-global"></div>

    <!-- Main Content -->
    <main class="confirmation-main">
        <div class="confirmation-container">
            <!-- Estado: Pago Exitoso -->
            <div id="estadoExitoso" class="confirmation-content" style="display: none;">
                <div class="confirmation-icon success">
                    <i class="fas fa-check-circle"></i>
                </div>

                <h1 class="confirmation-title">Compra realizada con éxito</h1>

                <p class="confirmation-message">
                    Tu pago ha sido procesado correctamente. Ya puedes acceder a tu curso desde el panel de estudiante.
                </p>

                <div class="course-info-card">
                    <h3 class="course-name" id="cursoNombre">Nombre del Curso</h3>
                    <div class="course-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="fechaCompra">DD/MM/AAAA</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-credit-card"></i>
                            <span id="metodoPago">Método de Pago</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-receipt"></i>
                            <span id="codigoTransaccion">Código de Transacción</span>
                        </div>
                    </div>
                    <div class="course-price">
                        <span class="price-label">Total pagado:</span>
                        <span class="price-amount" id="montoPagado">$0 CLP</span>
                    </div>
                </div>

                <div class="confirmation-actions">
                    <button class="btn-primary-custom" id="btnDescargarBoleta">
                        <i class="fas fa-download"></i>
                        Descargar Boleta
                    </button>
                    <button class="btn-secondary-custom" id="btnVolverCursos">
                        <i class="fas fa-graduation-cap"></i>
                        Ir a Mis Cursos
                    </button>
                </div>

                <div class="additional-info">
                    <p>
                        <i class="fas fa-envelope"></i>
                        Hemos enviado una copia de tu boleta a tu correo electrónico.
                    </p>
                </div>
            </div>

            <!-- Estado: Pago Pendiente -->
            <div id="estadoPendiente" class="confirmation-content" style="display: none;">
                <div class="confirmation-icon pending">
                    <i class="fas fa-clock"></i>
                </div>

                <h1 class="confirmation-title">Pago en proceso</h1>

                <p class="confirmation-message">
                    Tu pago está siendo procesado. Esto puede tardar unos minutos. Te notificaremos por correo cuando se complete.
                </p>

                <div class="course-info-card">
                    <h3 class="course-name" id="cursoNombrePendiente">Nombre del Curso</h3>
                    <div class="course-details">
                        <div class="detail-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="fechaCompraPendiente">DD/MM/AAAA</span>
                        </div>
                        <div class="detail-item">
                            <i class="fas fa-credit-card"></i>
                            <span id="metodoPagoPendiente">Método de Pago</span>
                        </div>
                    </div>
                </div>

                <div class="confirmation-actions">
                    <button class="btn-primary-custom" id="btnVolverSitioPendiente">
                        <i class="fas fa-home"></i>
                        Volver al Inicio
                    </button>
                    <button class="btn-secondary-custom" id="btnVerHistorial">
                        <i class="fas fa-history"></i>
                        Ver Historial de Compras
                    </button>
                </div>
            </div>

            <!-- Estado: Pago Rechazado/Anulado -->
            <div id="estadoRechazado" class="confirmation-content" style="display: none;">
                <div class="confirmation-icon error">
                    <i class="fas fa-times-circle"></i>
                </div>

                <h1 class="confirmation-title">Tu compra no se realizó correctamente</h1>

                <p class="confirmation-message">
                    Por favor, inténtalo de nuevo. Si el problema persiste, contacta con nuestro equipo de soporte.
                </p>

                <div class="error-reasons">
                    <h4>Posibles causas:</h4>
                    <ul>
                        <li>Fondos insuficientes en tu cuenta</li>
                        <li>Datos de pago incorrectos</li>
                        <li>Transacción cancelada por el usuario</li>
                        <li>Problemas con el método de pago</li>
                    </ul>
                </div>

                <div class="confirmation-actions">
                    <button class="btn-primary-custom" id="btnIntentarNuevamente">
                        <i class="fas fa-redo"></i>
                        Intentar Nuevamente
                    </button>
                    <button class="btn-secondary-custom" id="btnVolverCatalogo">
                        <i class="fas fa-book-open"></i>
                        Volver al Catálogo de Cursos
                    </button>
                </div>

                <div class="additional-info">
                    <p>
                        <i class="fas fa-headset"></i>
                        ¿Necesitas ayuda? Contáctanos en <a href="mailto:soporte@kikibrows.com">soporte@kikibrows.com</a>
                    </p>
                </div>
            </div>

            <!-- Estado: Error (Sin información de transacción) -->
            <div id="estadoError" class="confirmation-content" style="display: none;">
                <div class="confirmation-icon error">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>

                <h1 class="confirmation-title">No se encontró información de la transacción</h1>

                <p class="confirmation-message">
                    No pudimos encontrar información sobre esta transacción. Por favor, verifica tu historial de compras o contacta con soporte.
                </p>

                <div class="confirmation-actions">
                    <button class="btn-primary-custom" id="btnVolverInicio">
                        <i class="fas fa-home"></i>
                        Volver al Inicio
                    </button>
                    <button class="btn-secondary-custom" id="btnContactarSoporte">
                        <i class="fas fa-envelope"></i>
                        Contactar Soporte
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-minimal">
        <div class="container">
            <p>&copy; 2025 KIKIBROWS. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jsPDF para generar PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Scripts Personalizados -->
    <script src="js/componentes.js"></script>
    <script src="js/cursosData.js"></script>
    <script src="js/paymentSimulator.js"></script>
    <script src="js/paymentConfirmation.js"></script>
</body>
</html>
